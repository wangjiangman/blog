---
layout:     post
title:      "初识区块链技术"
subtitle:   ""
date:       2018-03-29
author:     "Fiona"
header-img: "img/blockchain.jpg"
tags:
    - 笔记
---

> 区块链技术是金融科技（Fintech）领域的一项重要技术创新。

### 区块链起源
区块链起源于数字货币（比特币）,通俗讲就是一个分布式的记账系统。数字货币演进过程中出现过:  
- **eCash**  基于盲签名技术，依赖于一个中心化的机构，最终失败
- **HashCash**  首次提出用工作量证明（Proof of Work，PoW）机制来获取额度。
- **B-Money**  提出去中心化设计数字货币的概念，未能提出具体设计实现。
- **比特币**  将PoW与共识机制结合，首次从实践意义上实现了一套去中心化的数字货币。比特币网络无需任何管理机构，自身通过数学和密码学原理来确保了所有交易的成功进行，比特币自身的价值是通过背后的计算力为背书。2014 年开始，比特币背后的区块链（Blockchain）技术受到大家关注，并正式引发了分布式记账本（Distributed Ledger）技术的革新浪潮。

数字货币与纸币对比：  
<img src="/blog/img/in-post/post-blockchain/coin-compare.png">

### 区块链原理
基本概念：
- 交易（Transaction）: 一次操作，导致账本状态的一次改变，如添加一条记录；
- 区块（Block）: 记录一段时间内发生的交易和状态结果，是对当前账本状态的一次共
识；
- 链（Chain）: 由一个个区块按照发生顺序串联而成，是整个状态变化的日志记录。

如果把区块链作为一个状态机，则每次交易就是试图改变一次状态，而每次共识生成的区块，就是参与者对于区块中所有交易内容导致状态改变的结果进行确认。  

在实现上，首先假设存在一个分布式的数据记录本（这方面的技术相对成熟），这个记录本**只允许添加、不允许删除**。其结构是一个线性的链表，由一个个“区块”串联组成，这也是其名字“区块链”的来源。新的数据要加入，必须放到一个新的区块中。而这个块（以及块里的交易）是否合法，可以通过一些手段快速检验出来。维护节点都可以提议一个新的区块，然而必须经过一定的共识机制来对最终选择的区块达成一致。

具体以比特币为例来看如何使用了区块链技术？客户端发起一项交易后，会广播到网络中并等待确认。网络中的节点会将一些等待确认的交易记录打包在一起（此外还要包括此前区块的哈希值等信息），组成一个候选区块。然后，试图找到一个 nonce 串放到区块里，使得候选区块的 hash 结果满足一定条件（比如小于某个值）。一旦算出来这个区块在格式上就合法了，就可以进行全网广播。大家拿到提案区块，进行验证，发现确实符合约定条件了，就承认这个区块是一个合法的新区块，被添加到链上。当然，在实现上还会有很多的细节。

比特币的这种**基于算力的共识机制**被称为 Proof of Work（PoW）。目前，要让 hash 结果满足一定条件并无已知的启发式算法，只能进行暴力尝试。尝试的次数越多，算出来的概率越大。通过调节对 hash 结果的限制，比特币网络控制约 10 分钟平均算出来一个合法区块。算出来的节点将得到区块中所有交易的管理费和协议固定发放的奖励费（目前是 12.5 比特币，每四年减半）。也即俗称的**挖矿**。

> 注：熟悉 Git 的人，应该会赞叹两者在设计上的异曲同工之妙。

### 区块链分类
根据参与者的不同，可以分为公开（Public）链、联盟（Consortium）链和私有（Private）链。
- 公开链，顾名思义，任何人都可以参与使用和维护，典型的如比特币区块链，信息是完全公开的。如果引入许可机制，包括私有链和联盟链两种。
- 私有链，则是集中管理者进行限制，只能得到内部少数人可以使用，信息不公开。
- 联盟链则介于两者之间，由若干组织一起合作维护一条区块链，该区块链的使用必须是有权限的管理，相关信息会得到保护，典型如银联组织。

目前来看，公开链将会更多的吸引社区和媒体的眼球，但更多的商业价值应该在联盟链和私有链上。

根据使用目的和场景的不同，又可以分为以数字货币为目的的货币链，以记录产权为目的的产权链，以众筹为目的的众筹链等。

### 区块链应用场景
从技术特点上，区块链技术有三种典型应用场景：  
<img src="/blog/img/in-post/post-blockchain/blockchain-apply.png">

### 参考
- [区块链技术指南](https://github.com/yeasy/blockchain_guide)
